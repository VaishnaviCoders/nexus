[
  {
    "projectId": "ef048c9d-aa44-4d10-9f96-7831c0b2c3cf",
    "testId": "523ce04b-5000-4597-b76c-fc89097c1c64",
    "userId": "04c8c448-b0d1-70c1-c2a9-4610fd6dba17",
    "title": "TC001-Create Lead with Valid Data",
    "description": "Verify that a new lead can be created successfully using all required and optional fields in the Create Lead form and persists correctly in the database.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/dashboard/leads\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input email into the correct email input field (index 5) and then click Continue button (index 6) to proceed with login.\n        frame = context.pages[-1]\n        # Input email address for login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('sameerkad2001@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to proceed with login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input password and click Continue to complete login.\n        frame = context.pages[-1]\n        # Input password for login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('shikshastudent')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to submit password and login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Lead Creation Successful').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError('Test case failed: The new lead could not be created successfully or is not displayed correctly as per the test plan.')\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Testing cannot proceed because the leads dashboard page fails to load due to a client-side runtime error caused by a disabled feature 'OrganizationSwitcher'. This blocks access to the Create Lead form and lead management functionality. Please fix this issue to enable further testing.\nBrowser Console Logs:\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.accounts.dev/_next/static/chunks/pages/_app-6a6202ecbd434e92.js:19:276)\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.clerk.accounts.dev/npm/@clerk/clerk-js@5/dist/clerk.browser.js:18:1328)\n[ERROR] Failed to load resource: the server responded with a status of 400 () (at https://main-raven-63.clerk.accounts.dev/v1/environment?__clerk_api_version=2025-04-10&_clerk_js_version=5.102.1&_method=PATCH&__clerk_db_jwt=dvb_34gqmEkWrDDLILcSRFElsmtS6NH:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/04c8c448-b0d1-70c1-c2a9-4610fd6dba17/1761645891766154//tmp/test_task/result.webm",
    "created": "2025-10-28T10:01:51.702Z",
    "modified": "2025-10-28T10:04:51.895Z"
  },
  {
    "projectId": "ef048c9d-aa44-4d10-9f96-7831c0b2c3cf",
    "testId": "07132d58-d5f8-45c1-8569-69f92bbff0d8",
    "userId": "04c8c448-b0d1-70c1-c2a9-4610fd6dba17",
    "title": "TC002-Create Lead with Missing Required Fields",
    "description": "Verify that the Create Lead form blocks submission and displays validation errors when required fields are missing.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/dashboard/leads\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input email address using a different method and proceed with login\n        frame = context.pages[-1]\n        # Click on the email input field to focus it\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        frame = context.pages[-1]\n        # Input email address after focusing the field\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('sameerkad2001@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to proceed to password input or next step\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input password and click Continue to complete login and reach leads dashboard\n        frame = context.pages[-1]\n        # Input password in the password field\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('shikshastudent')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to submit password and complete login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Lead Created Successfully').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: The Create Lead form did not block submission or display validation errors when required fields were missing as expected.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Testing stopped due to runtime error on leads dashboard page caused by disabled OrganizationSwitcher feature. Unable to verify Create Lead form validation as the page does not load. Please resolve the issue to continue testing.\nBrowser Console Logs:\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.accounts.dev/_next/static/chunks/pages/_app-6a6202ecbd434e92.js:19:276)\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.clerk.accounts.dev/npm/@clerk/clerk-js@5/dist/clerk.browser.js:18:1328)\n[ERROR] Failed to load resource: the server responded with a status of 400 () (at https://main-raven-63.clerk.accounts.dev/v1/environment?__clerk_api_version=2025-04-10&_clerk_js_version=5.102.1&_method=PATCH&__clerk_db_jwt=dvb_34gqmFJT1OtO3T4wYh8bwHz8uCD:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/04c8c448-b0d1-70c1-c2a9-4610fd6dba17/1761645887822815//tmp/test_task/result.webm",
    "created": "2025-10-28T10:01:51.709Z",
    "modified": "2025-10-28T10:04:47.985Z"
  },
  {
    "projectId": "ef048c9d-aa44-4d10-9f96-7831c0b2c3cf",
    "testId": "3dc4deaa-e664-442b-9353-6d219f51b18a",
    "userId": "04c8c448-b0d1-70c1-c2a9-4610fd6dba17",
    "title": "TC003-View Leads Table Data and UI Elements",
    "description": "Verify the leads table displays up-to-date and accurate key lead information, supports sorting and filtering, and all UI elements like links and phone numbers are interactive as expected.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/dashboard/leads\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input email address into the email field and click Continue to proceed with login.\n        frame = context.pages[-1]\n        # Input email address\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('sameerkad2001@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to proceed with login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input password and click Continue to log in.\n        frame = context.pages[-1]\n        # Input password\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('shikshastudent')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to submit password and log in\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Lead Management Dashboard - Success').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError('Test case failed: The leads table did not display up-to-date and accurate key lead information, or sorting, filtering, and interactivity features did not work as expected as per the test plan.')\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Testing cannot proceed because the leads dashboard page fails to load due to a runtime error caused by a disabled feature component <OrganizationSwitcher/>. Please enable the feature or fix the error to allow access to the leads dashboard and continue testing.\nBrowser Console Logs:\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.accounts.dev/_next/static/chunks/pages/_app-6a6202ecbd434e92.js:19:276)\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.clerk.accounts.dev/npm/@clerk/clerk-js@5/dist/clerk.browser.js:18:1328)\n[ERROR] Failed to load resource: the server responded with a status of 400 () (at https://main-raven-63.clerk.accounts.dev/v1/environment?__clerk_api_version=2025-04-10&_clerk_js_version=5.102.1&_method=PATCH&__clerk_db_jwt=dvb_34gqmD0jzQgYAIivB4quaRImAeR:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/04c8c448-b0d1-70c1-c2a9-4610fd6dba17/1761645881417373//tmp/test_task/result.webm",
    "created": "2025-10-28T10:01:51.719Z",
    "modified": "2025-10-28T10:04:41.547Z"
  },
  {
    "projectId": "ef048c9d-aa44-4d10-9f96-7831c0b2c3cf",
    "testId": "13aa1cc1-db89-47cf-aaca-7e1e469407a1",
    "userId": "04c8c448-b0d1-70c1-c2a9-4610fd6dba17",
    "title": "TC004-View Lead Details and Activity Timeline",
    "description": "Verify the Lead Details page loads comprehensive lead information, including activity timeline, assignment details, and follow-up reminders.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/dashboard/leads\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input email in index 5 and click Continue button at index 6 to proceed with login\n        frame = context.pages[-1]\n        # Input email address in email field\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('sameerkad2001@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to proceed with login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input password in index 3 and click Continue button at index 5 to complete login\n        frame = context.pages[-1]\n        # Input password for login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('shikshastudent')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to submit password and login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Lead Details Comprehensive View').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: Lead Details page did not load comprehensive lead information including activity timeline, assignment details, and follow-up reminders as per the test plan.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Testing stopped due to critical runtime error on leads dashboard page preventing access to lead details. Issue reported for resolution.\nBrowser Console Logs:\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.accounts.dev/_next/static/chunks/pages/_app-6a6202ecbd434e92.js:19:276)\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.clerk.accounts.dev/npm/@clerk/clerk-js@5/dist/clerk.browser.js:18:1328)\n[ERROR] Failed to load resource: the server responded with a status of 400 () (at https://main-raven-63.clerk.accounts.dev/v1/environment?__clerk_api_version=2025-04-10&_clerk_js_version=5.102.1&_method=PATCH&__clerk_db_jwt=dvb_34gqmKOp2pJR7vs8TxDzZvepysZ:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/04c8c448-b0d1-70c1-c2a9-4610fd6dba17/1761645897477007//tmp/test_task/result.webm",
    "created": "2025-10-28T10:01:51.727Z",
    "modified": "2025-10-28T10:04:57.615Z"
  },
  {
    "projectId": "ef048c9d-aa44-4d10-9f96-7831c0b2c3cf",
    "testId": "d476d4b9-b470-4c9a-8436-1d1f3dfd871d",
    "userId": "04c8c448-b0d1-70c1-c2a9-4610fd6dba17",
    "title": "TC005-Add Lead Activity via Popover/Modal",
    "description": "Verify that new lead activities can be created successfully through the activity creation popover/modal with all relevant data and proper timeline update.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/dashboard/leads\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input email address and continue login to access dashboard leads page.\n        frame = context.pages[-1]\n        # Input email address for login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('sameerkad2001@gmail.com')\n        \n\n        # -> Click Continue button to proceed to password input or next login step.\n        frame = context.pages[-1]\n        # Click Continue button to proceed with login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input password and click Continue to complete login and access dashboard leads page.\n        frame = context.pages[-1]\n        # Input password for login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('shikshastudent')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to proceed with login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Activity Created Successfully').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: The new lead activity creation did not succeed as expected. The activity was not saved or did not appear at the top of the timeline, or related lead statistics were not updated.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Testing stopped due to runtime error blocking the leads dashboard page. Cannot proceed with lead activity creation verification. Issue reported.\nBrowser Console Logs:\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.accounts.dev/_next/static/chunks/pages/_app-6a6202ecbd434e92.js:19:276)\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.clerk.accounts.dev/npm/@clerk/clerk-js@5/dist/clerk.browser.js:18:1328)\n[ERROR] Failed to load resource: the server responded with a status of 400 () (at https://main-raven-63.clerk.accounts.dev/v1/environment?__clerk_api_version=2025-04-10&_clerk_js_version=5.102.1&_method=PATCH&__clerk_db_jwt=dvb_34gqmItGs8rNnG1S1ZzGut85RP7:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/04c8c448-b0d1-70c1-c2a9-4610fd6dba17/1761645868941593//tmp/test_task/result.webm",
    "created": "2025-10-28T10:01:51.734Z",
    "modified": "2025-10-28T10:04:29.067Z"
  },
  {
    "projectId": "ef048c9d-aa44-4d10-9f96-7831c0b2c3cf",
    "testId": "00a4bf36-fcf4-452a-bb71-8b8f31cfd0f8",
    "userId": "04c8c448-b0d1-70c1-c2a9-4610fd6dba17",
    "title": "TC006-Assign Lead to Counsellor and Notification",
    "description": "Verify lead assignment works correctly: updating the database, UI reflects the assigned counsellor, and notification is triggered to the assigned user.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/dashboard/leads\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input email into the correct input field at index 5 and click continue at index 6.\n        frame = context.pages[-1]\n        # Input email address for sign-in\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('sameerkad2001@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button after entering email\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input password and click continue to complete sign-in.\n        frame = context.pages[-1]\n        # Input password for sign-in\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('shikshastudent')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to submit password and sign in\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Lead assignment successful').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: Lead assignment verification failed. The lead's assigned counsellor field did not update in the database, the UI did not reflect the new assignment immediately, or the notification was not sent to the assigned counsellor as expected.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "The leads dashboard page cannot be tested further because it shows a runtime error related to a disabled feature flag for organizations. Please enable the 'organizations' feature flag at dashboard.clerk.com to allow the leads page to render properly. Once enabled, reload the leads page and continue with the lead assignment verification steps: navigate to a lead details page, open the assign lead dialog, select a counsellor and confirm assignment, then verify database update, UI update, and notification sending. Without enabling this feature, the test cannot proceed.\nBrowser Console Logs:\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.accounts.dev/_next/static/chunks/pages/_app-6a6202ecbd434e92.js:19:276)\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.clerk.accounts.dev/npm/@clerk/clerk-js@5/dist/clerk.browser.js:18:1328)\n[ERROR] Failed to load resource: the server responded with a status of 400 () (at https://main-raven-63.clerk.accounts.dev/v1/environment?__clerk_api_version=2025-04-10&_clerk_js_version=5.102.1&_method=PATCH&__clerk_db_jwt=dvb_34gqmFV8YZzGPjhAt9l1k8ibEze:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/04c8c448-b0d1-70c1-c2a9-4610fd6dba17/1761645869844469//tmp/test_task/result.webm",
    "created": "2025-10-28T10:01:51.741Z",
    "modified": "2025-10-28T10:04:30.004Z"
  },
  {
    "projectId": "ef048c9d-aa44-4d10-9f96-7831c0b2c3cf",
    "testId": "ffd76992-0a0f-4533-8dd0-2e500519b41e",
    "userId": "04c8c448-b0d1-70c1-c2a9-4610fd6dba17",
    "title": "TC007-Unassign Lead from Counsellor",
    "description": "Verify that unassigning a lead removes the assignment correctly and sends appropriate notifications.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/dashboard/leads\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input email at index 5 and click Continue at index 6 to proceed to password entry.\n        frame = context.pages[-1]\n        # Input email for login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('sameerkad2001@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to proceed to password entry\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input password at index 3 and click Continue at index 5 to complete login.\n        frame = context.pages[-1]\n        # Input password for login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('shikshastudent')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to complete login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Try to find and click the Continue button or any other element to submit the password and complete login.\n        frame = context.pages[-1]\n        # Click Edit button to see if it reveals the Continue button or allows password submission\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Lead successfully unassigned and notification sent').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test failed: Unassigning a lead did not remove the assignment correctly or failed to send appropriate notifications as per the test plan.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Testing cannot proceed due to application error on leads dashboard page related to disabled Clerk feature 'OrganizationSwitcher'. Please enable the feature to continue testing unassign lead functionality.\nBrowser Console Logs:\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.accounts.dev/_next/static/chunks/pages/_app-6a6202ecbd434e92.js:19:276)\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.clerk.accounts.dev/npm/@clerk/clerk-js@5/dist/clerk.browser.js:18:1328)\n[ERROR] Failed to load resource: the server responded with a status of 400 () (at https://main-raven-63.clerk.accounts.dev/v1/environment?__clerk_api_version=2025-04-10&_clerk_js_version=5.102.1&_method=PATCH&__clerk_db_jwt=dvb_34gqmIrmKEh18WiUcHhsonImYAF:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/04c8c448-b0d1-70c1-c2a9-4610fd6dba17/1761645861375603//tmp/test_task/result.webm",
    "created": "2025-10-28T10:01:51.749Z",
    "modified": "2025-10-28T10:04:21.533Z"
  },
  {
    "projectId": "ef048c9d-aa44-4d10-9f96-7831c0b2c3cf",
    "testId": "f2029752-868b-4e95-b8fb-96208947f8a2",
    "userId": "04c8c448-b0d1-70c1-c2a9-4610fd6dba17",
    "title": "TC008-Single Lead Deletion with Confirmation and Role-based Permission",
    "description": "Verify that single lead delete action requires confirmation, respects user roles for permission, and correctly removes the lead.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/dashboard/leads\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input email and proceed with login.\n        frame = context.pages[-1]\n        # Input email address for login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('sameerkad2001@gmail.com')\n        \n\n        # -> Click Continue button to proceed with login.\n        frame = context.pages[-1]\n        # Click Continue button to proceed with login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input password and click Continue to complete login.\n        frame = context.pages[-1]\n        # Input password for login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('shikshastudent')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to submit password and login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Lead deletion successful').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: The lead delete action did not complete as expected. Confirmation prompt, permission checks, or deletion did not occur as required by the test plan.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Testing cannot proceed due to a critical runtime error on the leads dashboard page caused by the disabled <OrganizationSwitcher/> feature. This prevents verifying the lead deletion functionality. Please resolve this issue and retry.\nBrowser Console Logs:\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.accounts.dev/_next/static/chunks/pages/_app-6a6202ecbd434e92.js:19:276)\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.clerk.accounts.dev/npm/@clerk/clerk-js@5/dist/clerk.browser.js:18:1328)\n[ERROR] Failed to load resource: the server responded with a status of 400 () (at https://main-raven-63.clerk.accounts.dev/v1/environment?__clerk_api_version=2025-04-10&_clerk_js_version=5.102.1&_method=PATCH&__clerk_db_jwt=dvb_34gqmGfBkWWfu51wuIrW2VBgW9q:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/04c8c448-b0d1-70c1-c2a9-4610fd6dba17/1761645873003002//tmp/test_task/result.webm",
    "created": "2025-10-28T10:01:51.756Z",
    "modified": "2025-10-28T10:04:33.128Z"
  },
  {
    "projectId": "ef048c9d-aa44-4d10-9f96-7831c0b2c3cf",
    "testId": "6b5aa85a-f6de-46e4-9ef9-f82e9d84e7fe",
    "userId": "04c8c448-b0d1-70c1-c2a9-4610fd6dba17",
    "title": "TC009-Bulk Delete Leads with Confirmation and Role-based Permission",
    "description": "Verify bulk delete operation on multiple selected leads requires confirmation, respects role-based permissions, and updates the leads table accordingly.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/dashboard/leads\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input email at index 5 and click Continue at index 6.\n        frame = context.pages[-1]\n        # Input email for login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('sameerkad2001@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button after entering email\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input password at index 3 and click Continue at index 5.\n        frame = context.pages[-1]\n        # Input password for login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('shikshastudent')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to submit password\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Bulk Delete Successful').first).to_be_visible(timeout=3000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: Bulk delete operation did not complete as expected. Confirmation dialog or permission handling failed, or leads table was not updated accordingly.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Testing stopped due to critical runtime error on leads dashboard page preventing access to leads management features and bulk delete functionality. Issue reported for developer fix.\nBrowser Console Logs:\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.accounts.dev/_next/static/chunks/pages/_app-6a6202ecbd434e92.js:19:276)\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.clerk.accounts.dev/npm/@clerk/clerk-js@5/dist/clerk.browser.js:18:1328)\n[ERROR] Failed to load resource: the server responded with a status of 400 () (at https://main-raven-63.clerk.accounts.dev/v1/environment?__clerk_api_version=2025-04-10&_clerk_js_version=5.102.1&_method=PATCH&__clerk_db_jwt=dvb_34gqmGUHs9vivaVCIykTavRyg4W:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/04c8c448-b0d1-70c1-c2a9-4610fd6dba17/1761645890416322//tmp/test_task/result.webm",
    "created": "2025-10-28T10:01:51.763Z",
    "modified": "2025-10-28T10:04:50.541Z"
  },
  {
    "projectId": "ef048c9d-aa44-4d10-9f96-7831c0b2c3cf",
    "testId": "b6a22d61-c9bf-48f4-963b-c56183dbb684",
    "userId": "04c8c448-b0d1-70c1-c2a9-4610fd6dba17",
    "title": "TC010-Lead Assignment Notification Trigger",
    "description": "Verify that assigning or unassigning leads triggers the notification system, and notifications are received by the correct users promptly.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/dashboard/leads\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input email address and click Continue to sign in.\n        frame = context.pages[-1]\n        # Input the email address for login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('sameerkad2001@gmail.com')\n        \n\n        # -> Locate the password input field and input the password, then click Continue to login.\n        frame = context.pages[-1]\n        # Input the password into the password field\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('shikshastudent')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to submit password and login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Clear the email input, enter a valid email address 'sameerkad2001@gmail.com', and click Continue to proceed with login.\n        frame = context.pages[-1]\n        # Clear the invalid email input\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('')\n        \n\n        frame = context.pages[-1]\n        # Input valid email address for login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('sameerkad2001@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to proceed with login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input the password 'shikshastudent' and click Continue to complete login.\n        frame = context.pages[-1]\n        # Input the password for login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('shikshastudent')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to submit password and login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Lead Assignment Successful').first).to_be_visible(timeout=30000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: Notification system did not trigger or notify the correct users promptly upon assigning or unassigning leads as per the test plan.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Testing cannot proceed due to a runtime error blocking access to the leads dashboard. The feature toggle for organizations is disabled, causing the <OrganizationSwitcher/> component to fail rendering. Please enable the feature to continue testing lead assignment notification functionality.\nBrowser Console Logs:\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.accounts.dev/_next/static/chunks/pages/_app-6a6202ecbd434e92.js:19:276)\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.clerk.accounts.dev/npm/@clerk/clerk-js@5/dist/clerk.browser.js:18:1328)\n[ERROR] Failed to load resource: the server responded with a status of 400 () (at https://main-raven-63.clerk.accounts.dev/v1/environment?__clerk_api_version=2025-04-10&_clerk_js_version=5.102.1&_method=PATCH&__clerk_db_jwt=dvb_34gqmt4FgaiTn262a0KubTW8TT8:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/04c8c448-b0d1-70c1-c2a9-4610fd6dba17/1761645919477382//tmp/test_task/result.webm",
    "created": "2025-10-28T10:01:51.769Z",
    "modified": "2025-10-28T10:05:19.612Z"
  },
  {
    "projectId": "ef048c9d-aa44-4d10-9f96-7831c0b2c3cf",
    "testId": "5c48d636-af30-44ba-9a94-00497e686d06",
    "userId": "04c8c448-b0d1-70c1-c2a9-4610fd6dba17",
    "title": "TC011-UI Responsiveness and Element Integrity on Supported Devices",
    "description": "Verify that all lead management UI components render correctly, with no broken or missing elements, and are fully functional across supported desktop and mobile devices.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/dashboard/leads\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Click on the email input field to focus and then input username and password, or try alternative login method.\n        frame = context.pages[-1]\n        # Click on email input field to focus\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        frame = context.pages[-1]\n        # Input username/email for login after focusing input field\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('sameerkad2001@gmail.com')\n        \n\n        # -> Click on the Continue button to proceed with the login flow and check if password input is required next or if login proceeds.\n        frame = context.pages[-1]\n        # Click Continue button to proceed with login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input password into the password field and click Continue to complete login and access leads dashboard.\n        frame = context.pages[-1]\n        # Click on password input field to focus\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        frame = context.pages[-1]\n        # Input password for login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('shikshastudent')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to submit password and login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Lead Management UI Components Loaded Successfully').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError('Test case failed: Lead management UI components did not render correctly or are missing/broken as per the test plan.')\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Testing stopped due to critical runtime error on leads dashboard page caused by disabled 'OrganizationSwitcher' feature. Unable to verify lead management UI components as the page does not load. Please enable the feature to proceed with testing.\nBrowser Console Logs:\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.accounts.dev/_next/static/chunks/pages/_app-6a6202ecbd434e92.js:19:276)\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.clerk.accounts.dev/npm/@clerk/clerk-js@5/dist/clerk.browser.js:18:1328)\n[ERROR] Failed to load resource: the server responded with a status of 400 () (at https://main-raven-63.clerk.accounts.dev/v1/environment?__clerk_api_version=2025-04-10&_clerk_js_version=5.102.1&_method=PATCH&__clerk_db_jwt=dvb_34gqn2T8ZJd37yM1etrnCXZQ2dZ:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/04c8c448-b0d1-70c1-c2a9-4610fd6dba17/176164590304699//tmp/test_task/result.webm",
    "created": "2025-10-28T10:01:51.811Z",
    "modified": "2025-10-28T10:05:03.205Z"
  },
  {
    "projectId": "ef048c9d-aa44-4d10-9f96-7831c0b2c3cf",
    "testId": "8bc34162-62c8-4a84-ba52-70adc51fdbb9",
    "userId": "04c8c448-b0d1-70c1-c2a9-4610fd6dba17",
    "title": "TC012-Lead Activity Data Validation and Error Handling",
    "description": "Verify that invalid or incomplete input in lead activity creation is handled gracefully with validation errors preventing submission.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/dashboard/leads\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input email at index 5 and click Continue button at index 6.\n        frame = context.pages[-1]\n        # Input email address for sign-in\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('sameerkad2001@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to proceed with sign-in\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input password and click Continue to sign in.\n        frame = context.pages[-1]\n        # Input password for sign-in\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('shikshastudent')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to complete sign-in\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Activity Created Successfully').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError('Test case failed: Validation errors for invalid or incomplete lead activity input were not handled gracefully, allowing form submission.')\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Testing stopped due to client-side application error on lead dashboard page related to disabled 'OrganizationSwitcher' feature. Cannot proceed with lead activity creation validation tests.\nBrowser Console Logs:\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.accounts.dev/_next/static/chunks/pages/_app-6a6202ecbd434e92.js:19:276)\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.clerk.accounts.dev/npm/@clerk/clerk-js@5/dist/clerk.browser.js:18:1328)\n[ERROR] Failed to load resource: the server responded with a status of 400 () (at https://main-raven-63.clerk.accounts.dev/v1/environment?__clerk_api_version=2025-04-10&_clerk_js_version=5.102.1&_method=PATCH&__clerk_db_jwt=dvb_34gqmwVqK0cavFd5eGOvOUs0YOq:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/04c8c448-b0d1-70c1-c2a9-4610fd6dba17/1761645868581871//tmp/test_task/result.webm",
    "created": "2025-10-28T10:01:51.822Z",
    "modified": "2025-10-28T10:04:28.791Z"
  },
  {
    "projectId": "ef048c9d-aa44-4d10-9f96-7831c0b2c3cf",
    "testId": "c6d0ac16-499f-4c94-898e-6411178032f8",
    "userId": "04c8c448-b0d1-70c1-c2a9-4610fd6dba17",
    "title": "TC013-Leads Table Sorting Stability on Edge Data",
    "description": "Verify leads table sorting behaves correctly with edge cases including null, identical, or special character data in sortable columns.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/dashboard/leads\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input email in the correct input field at index 5\n        frame = context.pages[-1]\n        # Input email address in the email input field\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('sameerkad2001@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to proceed to password input\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input password and click continue to sign in\n        frame = context.pages[-1]\n        # Input password\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('shikshastudent')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to sign in\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Sorting Error Detected in Leads Table').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: Leads table sorting verification failed due to incorrect sorting order, instability, or errors with edge case data including null, identical, or special character entries.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Testing cannot proceed because the leads dashboard page fails to load due to a runtime error caused by a disabled <OrganizationSwitcher/> feature component. Please enable the feature or fix the issue to allow testing of leads table sorting behavior.\nBrowser Console Logs:\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.accounts.dev/_next/static/chunks/pages/_app-6a6202ecbd434e92.js:19:276)\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.clerk.accounts.dev/npm/@clerk/clerk-js@5/dist/clerk.browser.js:18:1328)\n[ERROR] Failed to load resource: the server responded with a status of 400 () (at https://main-raven-63.clerk.accounts.dev/v1/environment?__clerk_api_version=2025-04-10&_clerk_js_version=5.102.1&_method=PATCH&__clerk_db_jwt=dvb_34gqmyCPl0Bqbi3Tpvt5jx5WFWG:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/04c8c448-b0d1-70c1-c2a9-4610fd6dba17/1761645899875059//tmp/test_task/result.webm",
    "created": "2025-10-28T10:01:51.831Z",
    "modified": "2025-10-28T10:05:00.072Z"
  },
  {
    "projectId": "ef048c9d-aa44-4d10-9f96-7831c0b2c3cf",
    "testId": "07848c79-5436-41bb-bb10-3964976a3736",
    "userId": "04c8c448-b0d1-70c1-c2a9-4610fd6dba17",
    "title": "TC014-Database Consistency After Lead Conversion",
    "description": "Verify that converting a lead into an enrolled student updates all related data correctly, maintaining communication history and removing or updating lead status as per business logic.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/dashboard/leads\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input email and proceed with login\n        frame = context.pages[-1]\n        # Input email address for login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('sameerkad2001@gmail.com')\n        \n\n        # -> Input password and submit login form\n        frame = context.pages[-1]\n        # Input password for login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('shikshastudent')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to submit login form\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input a valid email address and continue login\n        frame = context.pages[-1]\n        # Correct the email input to a valid email address\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('sameerkad2001@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to proceed with login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input password 'shikshastudent' and click Continue to login\n        frame = context.pages[-1]\n        # Input password for login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('shikshastudent')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to submit password and login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Lead Conversion Successful').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: Lead conversion did not update lead status or preserve communication history as expected according to the test plan.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Testing cannot proceed due to a runtime error blocking access to the leads dashboard. The feature required for organization switching is disabled. Please enable the feature to allow testing of lead conversion and related flows.\nBrowser Console Logs:\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.accounts.dev/_next/static/chunks/pages/_app-6a6202ecbd434e92.js:19:276)\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.clerk.accounts.dev/npm/@clerk/clerk-js@5/dist/clerk.browser.js:18:1328)\n[ERROR] Failed to load resource: the server responded with a status of 400 () (at https://main-raven-63.clerk.accounts.dev/v1/environment?__clerk_api_version=2025-04-10&_clerk_js_version=5.102.1&_method=PATCH&__clerk_db_jwt=dvb_34gqmtVEvryzG6yr1PXZX2ivS5z:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/04c8c448-b0d1-70c1-c2a9-4610fd6dba17/1761645895216133//tmp/test_task/result.webm",
    "created": "2025-10-28T10:01:51.839Z",
    "modified": "2025-10-28T10:04:55.361Z"
  },
  {
    "projectId": "ef048c9d-aa44-4d10-9f96-7831c0b2c3cf",
    "testId": "3866d933-3d7d-4153-a086-dd464e773ca4",
    "userId": "04c8c448-b0d1-70c1-c2a9-4610fd6dba17",
    "title": "TC015-Access Control Enforcement on Lead Management Actions",
    "description": "Verify role-based access control prevents unauthorized users from performing restricted operations such as delete, assign, or convert leads.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/dashboard/leads\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input username into the correct email input field (index 5) and then proceed to continue login.\n        frame = context.pages[-1]\n        # Input username into email address field\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('sameerkad2001@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to proceed to password input or next step\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input password and click Continue to complete login.\n        frame = context.pages[-1]\n        # Input password\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/div/div/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('shikshastudent')\n        \n\n        frame = context.pages[-1]\n        # Click Continue button to submit password and login\n        elem = frame.locator('xpath=html/body/div/div/div/div/div/div/div[2]/form/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Unauthorized Access Granted').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: Role-based access control did not prevent unauthorized users from performing restricted operations such as delete, assign, or convert leads.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Testing stopped due to dashboard runtime error caused by disabled 'OrganizationSwitcher' feature. Unable to verify role-based access control on leads until issue is resolved.\nBrowser Console Logs:\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.accounts.dev/_next/static/chunks/pages/_app-6a6202ecbd434e92.js:19:276)\n[WARNING] Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview (at https://main-raven-63.clerk.accounts.dev/npm/@clerk/clerk-js@5/dist/clerk.browser.js:18:1328)\n[ERROR] Failed to load resource: the server responded with a status of 400 () (at https://main-raven-63.clerk.accounts.dev/v1/environment?__clerk_api_version=2025-04-10&_clerk_js_version=5.102.1&_method=PATCH&__clerk_db_jwt=dvb_34gqmuYQ3jn6ah1n5OiquIEF9bo:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/04c8c448-b0d1-70c1-c2a9-4610fd6dba17/1761645893961614//tmp/test_task/result.webm",
    "created": "2025-10-28T10:01:51.849Z",
    "modified": "2025-10-28T10:04:54.099Z"
  }
]
